{% load static %}
{% block css_styles %}
  <link rel="stylesheet" href="{% static 'css/navbar.css' %}" />
{% endblock %}

<nav class="navbar navbar-expand-lg bg-body-tertiary navbar-custom-bg">
  <div class="container-fluid">
    <a class="navbar-brand ms-5 me-5" href="#"><img width="154" height="50" src="https://apusthemes.com/wp-demo/superio/wp-content/themes/superio/images/logo.svg" alt="" /></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav gap-4">
        <li class="nav-item dropdown">
          <a class="nav-link d-flex gap-1" href="{% url 'home' %}" >
            <span>Home</span>
          </a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link d-flex gap-1" href="{% url 'job_list' %}" >
            <span>Find Jobs</span>
          </a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link d-flex gap-1" href="#{% url 'employers_list' %}">
            <span>Employers</span>
          </a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link d-flex gap-1" href="{% url 'candidate_list' %}" >
            <span>Candidates</span>
          </a>
        </li>
        <!-- <li class="nav-item ">
          <a class="nav-link d-flex gap-1" href="#" >
            <span>Blogs</span>
          </a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link d-flex gap-1" href="#" id="navbarDropdown" role="button" aria-haspopup="true" aria-expanded="false">
            <span>Pages</span>
            <i class="bi bi-chevron-down my-auto"></i>
          </a>
          <div class="dropdown-menu border-0" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="#">Shop</a>
            <a class="dropdown-item" href="#">Pricing</a>
            <a class="dropdown-item" href="#">About</a>
            <a class="dropdown-item" href="#">Contact</a>
            <a class="dropdown-item" href="#">FAQ</a>
            <a class="dropdown-item" href="#">Terms</a>
          </div>
        </li> -->
      </ul>
      <div class="ms-auto d-flex">
        {% if user.is_authenticated %}
        <li class="nav-item d-flex dropdown">
          <a class="nav-link d-flex" href="#" id="navbarDropdown" role="button" aria-haspopup="true" aria-expanded="false">
            <img class="rounded-circle" width="50" height="50" src="https://apusthemes.com/wp-demo/superio/wp-content/uploads/2021/05/y2.jpg" alt="">
            <div class="d-flex p-3 gap-1">
              {% if is_candidate %}
              <span class="my-auto">Candidate</span>
              {% else %}
              <span class="my-auto">Employer</span>
              {% endif %}
              <i class="bi bi-chevron-down my-auto"></i>
            </div>
          </a>
          <div class="dropdown-menu mt-5 border-0" aria-labelledby="navbarDropdown">
            {% if is_candidate %}
            <a class="dropdown-item p-3" href="{% url 'candidate_profile' %}"><i class="bi bi-person"></i><span class="px-2">Profile</span></a>
            <a class="dropdown-item p-3" href="{% url 'candidate_saved_jobs' %}"><i class="bi bi-suitcase-lg"></i><span class="px-2">Saved Jobs</span></a>

            <a class="dropdown-item p-3" href="{% url 'candidate_messages' %}">
              <i class="fas fa-envelope"></i><span class="px-2">Messages</span>
              {% if unread_messages_count > 0 %}
                  <span class="notification-dot"></span>
              {% endif %}
            </a>
            {% elif is_employer %}
            <a class="dropdown-item p-3" href="{% url 'employer_profile' %}"><i class="bi bi-person"></i><span class="px-2">Profile</span></a>
            <a class="dropdown-item p-3" href="{% url 'manage_jobs' %}"><i class="bi bi-briefcase"></i><span class="px-2">Manage Jobs</span></a>
            <a class="dropdown-item p-3" href="{% url 'jobform' %}"><i class="bi bi-pencil"></i><span class="px-2">Submit Job</span></a>
            <a class="dropdown-item p-3" href="#"><i class="bi bi-megaphone"></i><span class="px-2">Applicants Job</span></a>
            <a class="dropdown-item p-3" href="{% url 'saved_candidates' %}"><i class="bi bi-save"></i><span class="px-2">Saved Candidates</span></a>

            {% endif %}
            <a class="dropdown-item p-3" href="#"><i class="bi bi-lock"></i><span class="px-2">Change Password</span></a>
            <a class="dropdown-item p-3" href="#"><i class="bi bi-trash3"></i><span class="px-2">Delete Profile</span></a>
            <a href="#" class="dropdown-item p-3" onclick="document.getElementById('logout-form').submit();">
              <i class="bi bi-box-arrow-left"></i> Logout
            </a>
  
            {% comment %} form for logging out an user {% endcomment %}
            <form class="display-none" id="logout-form" method="post" action="{% url 'accounts:logout' %}">
              {% csrf_token %}
            </form>
          </div>
        </li>
        {% else %}
          <button class="custom-btn login-reg-btn me-2" data-bs-toggle="modal" data-bs-target="#loginModal">Login / Register</button>
        {% endif %}
        {% if is_employer %}
        <a href="{% url 'jobform' %}" style="text-decoration: none; color: white;"><button class="custom-btn btn-blue me-2" type="button">Job Post</button></a>
        {% endif%}
        <a href="" class="notification-btn me-5 my-auto"><i class="bi bi-bell"></i></a>
      </div>
    </div>
  </div>
</nav>
